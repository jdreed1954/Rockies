---
title: 'Rockies 2017 - Week #9'
author: "Jim Reed (jdreed@q.com)"
date: "June 5, 2017"
output:
  pdf_document: default
  html_document: default
  html_notebook: default
  fontsize: 12pt
---

```{r Init, echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(readxl)
library(lubridate)
library(Lahman)
library(XML)
library(RCurl)
library(rlist)
library(knitr)
library(grid)
library(xtable)

opts_chunk$set(echo=FALSE,
               cache=TRUE, autodep=TRUE, cache.comments=FALSE,
               message=FALSE, warning=FALSE)

source("../Baseball/Baseball_Functions.r")
```
```{r , fig.cap = "Harry Ralston \"Bud\" Black (born June 30, 1957): Manager, Colorado Rockies."}
knitr::include_graphics("images/Bud_Black3.jpg")
```

> “You look at teams that win. From the pitching side, you have to be successful on the mound. In this day and age, you just can’t outslug teams.” -- Bud Black

```{r FirstStats, results='asis'}
theurl <- getURL("http://www.baseball-reference.com/leagues/NL/2017-standings.shtml#expanded_standings_W::none")
tables <- readHTMLTable(theurl)
tables <- list.clean(tables, fun = is.null, recursive = FALSE)
n.rows <- unlist(lapply(tables, function(t) dim(t)[1]))

knitr::kable(tables$standings_W, caption = "NL West Standings")

Current <- getCurrentResults()
knitr::kable(Current, digits = 3,
             caption = paste("Current Rockies Results as of", Sys.Date(), sep = " "))
```

```{r Season17, message=FALSE, warning=FALSE, include=FALSE}
WINS <- Current$Wins
LOSSES <- Current$Losses
WPCT <- Current$Win.Pct
TotalR <- Current$Runs
TotalRA <- Current$Runs.Ag

```


\newpage

```{r ,fig.height= 2.0}
knitr::include_graphics("images/Colorado-Rockies-Logo2.jpg")
```


## Week #9

The Rockies won three of seven games this week. After falling to second in the NL West briefly, they are on top again, leading the LA Dodgers by half a game.  The Seattle Mariners dominated the Rockies wining three of the four-game series. Rockies pitchers Freeland, Chatwood and Hoffman had the wins. 

Note, I had a few comments about the Barry Bonds article last week.  It was suggested that I include Babe Ruth in the statistics.  See the updated article below.  Hope you enjoy seeing the Sultan of Swat included.

Here is a synopsis of what is included this week.

* **Featured Article**  
    + Career Statistics Comparison:  Aaron, Bonds and Ruth **Updated**
* Colorado Rockies Dashboards
    + Rockies Win/Loss Graphs for 2017 and 2007
    + National and American League Standings
    + Game-by-Game Results
    + **Pythagorean Theorem** prediction of the number of wins.
    + Batting Statistics (for non-pitchers)
    + Pitching Statistics
    + National League Team Standard Batting **New**
    + Current Injuries **Updated**
* Topics for Future Articles
* Glossary
    + Batting Statistics
    + Pitching Statistics
    + Fielding Statistics

Most of the source data for this article can be found at URL [http://baseball-reference.com](http://baseball-reference.com).

Let me know what other special interest statistics you might like to see.  Remember to refer to the Glossaries at the end of the document if unfamiliar with one or more of the statistic abbreviations in the tables.

\newpage

# Featured Article

## Career Statistics Comparison:  Hank Aaron, Barry Bonds and Babe Ruth
## Hank Aaron

```{r , fig.height=4.0, fig.cap= "Hank Aaron played 21 years for the Atlanta Braves and two years for the Milwaukee Brewers."}
knitr::include_graphics("images/Hank_Aaron.jpg")
```

Henry Louis "Hank" Aaron was born February 5, 1934.  He spent much of his young life in and around Mobile, Alabama.  Hank Aaron played for twenty-three seasons in MLB, twenty-one seasons for the Atlanta Braves (NL) and two years for the Milwaukee Brewers (AL).  Aaron holds many MLB records:
  
  * Most seasons as an All-Star and most All-Star Games (25)
  * Most career RBIs (2,297)
  * Extra-base hits (1,477)
  * Total bases (6,856)

Aaron holds second place in records for career home runs (755) and at-bats (12,364).  He holds the third-place record career games played (3,298)




\newpage

## Hank Aaron Batting Statistics by Year

```{r, Hank,echo = FALSE}
player.info <- subset(Master, nameFirst == "Hank" & nameLast == "Aaron")
player.id   <- as.character(player.info$playerID)
HankStats <- get_stats(player.id)
HankStats <- HankStats %>% mutate(Cum.HR = cumsum(HR))
Hank.car <- get_career(HankStats)
```

```{r Hankkable, results = 'asis', echo = FALSE}
columns <- c(2,23,6:17,24:27) 
c.names = c("Year", "Age", "G", 
            "AB",   "R",   "H",    "2B",   "3B", 
            "HR",   "RBI", "SB",   "CS",   "BB", 
            "SO",   "Avg", "SLG",  "OBP",  "OPS")
knitr::kable(HankStats[,columns], 
          caption = "Aaron Batting Statistics by Year", 
           col.names = c.names, digits = 3)
```

\newpage

### Barry Lamar Bonds

```{r , fig.height=4.0, fig.cap="Barry Bonds played in MLB 1986 to 2007."}
knitr::include_graphics("images/Barry_Bonds.jpg")
```

Barry Lamar Bonds was born on July 24, 1964 in Riverside, California.  


\newpage

## Bonds Batting Statistics by Year

```{r, message=FALSE, echo = FALSE}
if (!require("RColorBrewer")) {
install.packages("RColorBrewer")
library(RColorBrewer)
}

```
```{r, echo=FALSE, message=FALSE, warning=FALSE}
Master <- getMaster()
Batting <- getBatting()
```

```{r getBonds, echo = FALSE}
player.info <- subset(Master, nameFirst == "Barry" & nameLast == "Bonds")
player.id   <- as.character(player.info$playerID)
PlayerStats <- get_stats(player.id)
```



```{r kable, results = 'asis', echo = FALSE}
columns <- c(2,23,6:17,24:27)
c.names = c("Year", "Age", "G", 
            "AB",   "R",   "H",    "2B",   "3B", 
            "HR",   "RBI", "SB",   "CS",   "BB", 
            "SO",   "Avg", "SLG",  "OBP",  "OPS")
knitr::kable(PlayerStats[,columns], 
          caption = "Bonds Batting Statistics by Year", 
           col.names = c.names, digits = 3)
```

\newpage

## Babe Ruth

```{r , fig.height=4.0, fig.cap= "George Herman \"Babe\" Ruth Jr. played twenty-two seasons from 1914 through 1935. The Babe is considered by many as the greatest player of all time."}
knitr::include_graphics("images/Ruth1921-3.jpg")
```

George Herman "Babe" Ruth Jr. was born February 6, 1895 at 216 Emory Street in Pigtown, a working-class section of Baltimore, Maryland. 

Top Ten in MLB history in the following categories:

  * 3rd on home run list – 714
  * 10th in batting average – .342
  * 2nd on RBI list – 2,213
  * 1st on all-time slugging % – .690
  * 2nd on all-time on-base % – .474
  * 1st on all-time OPS – 1.164
  * 4th on all-time runs list – 2,174
  * 6th on all-time total bases list – 5,793
  * 3rd on all-time walks list – 2,062

\newpage

## Babe Ruth Batting Statistics by Year

```{r getRuth, echo = FALSE}
ruth.info <- subset(Master, nameFirst == "Babe" & nameLast == "Ruth")
ruth.id   <- as.character(ruth.info$playerID)
Ruth <- get_stats(ruth.id)
```
```{r RuthBat, results = 'asis', echo = FALSE, fig.cap= "Babe Ruth played fifteen years for the New York Yankees, six years for the Boston Red Sox and one year for the Boston Braves."}

columns <- c(2,23,6:17,24:27)
c.names = c("Year", "Age", "G", 
            "AB",   "R",   "H",    "2B",   "3B", 
            "HR",   "RBI", "SB",   "CS",   "BB", 
            "SO",   "Avg", "SLG",  "OBP",  "OPS")

# Let's remove NAs from this tibble
Ruth[is.na(Ruth)] <- 0
knitr::kable(Ruth[,columns], 
          caption = "Ruth Batting Statistics by Year", 
           col.names = c.names, digits = 3)
```

## Carreer Statistics for Aaron, Bonds & Ruth

```{r, echo=FALSE}
Aaron.car <- get_career(HankStats)
Ruth.car <- get_career(Ruth)
Bonds.car <- get_career(PlayerStats)
Car.comb <- rbind(Aaron.car, Bonds.car, Ruth.car)
Car.comb$Player <- c("Hank Aaron", "Barry Bonds", "Babe Ruth") 
Car.comb <- select(Car.comb,Player,1:16)
```

```{r kable2, results = 'asis', echo = FALSE}
columns <- c(1:17)
c.names = c("Name", "Yrs", "G",  "AB",   "R",   "H",    
            "2B",  "3B", "HR",   "RBI", "BB",   
            "SO",  "SB", "Avg",  "SLG", "OBP","OPS")
Car.comb$Player[1] <- "Aaron"
Car.comb$Player[2] <- "Bonds"
Car.comb$Player[3] <- "Ruth"
knitr::kable(Car.comb[,columns], caption = "Aaron, Bonds & Ruth Carreer Statistics", 
             col.names = c.names, digits = 3)
```


```{r OPS_Models, echo=FALSE}
# Use Lifetime statistics to produce model of OPS ~ Age
Bonds <- PlayerStats # from above
Aaron <- HankStats   # from above

# Model Aaron, Bonds and Ruth career OPS performance
F1 <- fit.model(Aaron)
F2 <- fit.model(Bonds)
F3 <- fit.model(Ruth)

# Let's Make a Data Table of the model results.
a_xmin <- min(Aaron$Age); a_xmax <- max(Aaron$Age)
b_xmin <- min(Bonds$Age); b_xmax <- max(Bonds$Age)
r_xmin <- min(Ruth$Age); r_xmax <- max(Ruth$Age)

a_predicted <- data.frame(Age = seq(a_xmin, a_xmax, length.out=100))
b_predicted <- data.frame(Age = seq(b_xmin, b_xmax, length.out=100))
r_predicted <- data.frame(Age = seq(r_xmin, r_xmax, length.out=100))

a_predicted$OPS <- predict(F1$fit,a_predicted)
b_predicted$OPS <- predict(F2$fit,b_predicted)
r_predicted$OPS <- predict(F3$fit,r_predicted)

```

\newpage

## Marchi & Albert Career Trajectory Models for Aaron,Bonds & Ruth


As discussed above, Marchi and Albert describe a player's offensive career trajectory as a quadratic curve rising in the first part of the player's career.  Reaching an apogee at about age thirty, the usual performance curve gradually declines.  The graph below shows three very different players.  While Hank Aaron's and Babe Ruth's trajectories are more typical, Barry Bonds'  generally improves over his entire career.  Examining the graph below, if you mentally remove the data points from age 35-38, Bonds trajectory would be more like Aaron's and Ruth's.

```{r PlotOPS, echo = FALSE, fig.cap = "Bonds and Aaron Trajectory Models with OPS Values by Age."}
# Let's plot the OPS data points plus the model trace 
ggplot(Bonds, aes(Age, OPS)) +
  geom_point(aes(colour = "Bonds", size = HR)) +
  geom_line(data = b_predicted, aes(color = "Bonds")) +
  geom_point(data = Aaron, aes(Age, OPS, color = "Aaron", size = HR)) +
  geom_line(data = a_predicted, aes(color = "Aaron")) +
  geom_point(data = Ruth, aes(Age, OPS, color = "Ruth", size = HR)) +
  geom_line(data = r_predicted, aes(color = "Ruth")) +
  ggtitle("Hank Aaron, Barry Bonds and Babe Ruth OPS Models") + 
  labs(x = "Age", y = "OPS")
  
```



\newpage

Again, notice the general shape of Hank Aaron's cumulative batting average; it increases until about age 30 years and then gradually decreases.  Ruth's batting average reaches a peak, levels off and then declines.  On the other hand, Bonds curve increases throughout his career, taking a marked improved rate of change at age 35 years.

```{r, echo=FALSE, message=FALSE, warning=FALSE, fig.cap = "Aaron, Bonds & Ruth - Lifetime Cumulative Batting Averages"}

ggplot(data = PlayerStats, aes(Age,cumAvg*1000, color = "Bonds")) + 
  geom_point(aes(size = OPS)) + 
  geom_smooth() + 
  geom_point(data = HankStats, aes(Age, cumAvg * 1000, color = "Aaron", size = OPS)) + 
  geom_smooth(data = HankStats) + 
  geom_point(data = Ruth, aes(Age, cumAvg * 1000, color = "Ruth", size = OPS)) + 
  geom_smooth(data = Ruth) + 
  geom_hline(yintercept=300) +
  ggtitle("Aaron, Bonds & Ruth Career Cumulative Batting Average") + 
  labs(x = "Age", y = "Cumulative Batting Average")
```

\newpage

## Aaron, Bonds & Ruth Cumulative Home Run Production

Hank Aaron exceeds Barry Bonds in cumulative home runs for most of his career when you look at their respective careers by age.  Bonds begins to close the gap when he reaches the age of 35.  He surpasses Aaron in total number of home runs in his last season, age 42.  Bonds, of course, still holds the career home run record of 762.  Before Bonds, Hank Aaron held the home run record for 33 years.  The only other player to hit over 700 home runs is Babe Ruth whose total is 714.  Babe Ruth's HR curve here for context and completeness.  Ruth's record stood for 34 years.

```{r, echo=FALSE, message=FALSE, warning=FALSE, fig.cap = "Aaron,Bonds & Ruth Cumulative Home Run Production"}

PlayerStats <- PlayerStats %>% mutate(Cum.HR = cumsum(HR))
Ruth <- Ruth %>% mutate(Cum.HR = cumsum(HR))
ggplot(data = PlayerStats, aes(Age,Cum.HR, color = "Bonds")) + 
  geom_point() + 
  geom_line() + 
  geom_point(data = HankStats, aes(Age,Cum.HR, color = "Aaron")) +
  geom_line(data = HankStats) +
  geom_point(data = Ruth, aes(Age,Cum.HR, color = "Ruth")) +
  geom_line(data = Ruth) +
  ggtitle("Cumulative Home Run Production") + 
  labs(x = "Age", y = "Cumulative Home Runs")
```


I hope you enjoyed this statistical journey through a small corner of baseball history.  If you appreciate the power of statistical graphics applied to baseball, please let me know. You can reach me at jdreed@q.com.  Please include "baseball" or "sabermetrics" in the subject line of your email.

\newpage


# Rockies Dashboard
## Win Loss Margin

One of the many ways to visualize a teams performance is to show wins and losses as the margin of the win (positive) or loss (negative).  In the graphs below, we show the current season performance.  For emphasis, wins are displayed as green (above the zero) and losses as red (below).

Following the current season's graph, I have included the Win/Loss margin chart for our benchmark season of 2007 when the Rockies won the National League pennant.  

```{r GBG17}
GBG17 <- suppressWarnings(getRockiesGBG(2017))
```

```{r WinLossMargin17,fig.height=3.5,fig.width=6.5}

# Produce Win/Loss Margin Plot

GBG17$Date <- trimws(GBG17$Date)
D <- tibble(Date = GBG17$Date, Year = 2017, WLMargin = GBG17$R - GBG17$RA, 
            DN = GBG17$`D/N`, HA = GBG17$`H/A`, WLsign = " ")
D <- D %>% separate(Date, into = c("Month", "Day"), sep =" ")
D[which(D$WLMargin == 0),]$WLMargin <- 0
D$WLsign <-  ifelse(D$WLMargin < 0, "Loss", "Win")


D$Month <- match(tolower(D$Month), tolower(month.abb))
D$Date <- with(D, as.Date(paste(Year, Month, Day, sep = "/")))

p1 <- ggplot(D, aes(x = Date, y = WLMargin, fill = WLsign)) + 
  geom_bar(stat = "identity", position = position_dodge(width=0.8)) + 
  guides(fill=FALSE) +
  scale_fill_manual(values= c("Win" = "green3", "Loss" = "red")) +
  scale_x_date(date_breaks = "1 month", date_minor_breaks = "1 week", date_labels = "%B") +
  ggtitle("Rockies 2017 Win/Loss Margin") + xlab("Game Date") + ylab("Game Margin (runs)")

```


```{r GBG07}
GBG07 <- suppressWarnings(getRockiesGBG(2007))
```

```{r WinLossMargin07,fig.height=3.5, fig.width=6.5}

# Produce Win/Loss Margin Plot

GBG07$Date <- trimws(GBG07$Date)
D <- tibble(Date = GBG07$Date, Year = 2007, WLMargin = GBG07$R - GBG07$RA, 
            DN = GBG07$`D/N`, HA = GBG07$`H/A`)
D <- D %>% separate(Date, into = c("Month", "Day"), sep =" ")
D$WLsign = ifelse(D$WLMargin < 0, "Loss", "Win")

D$Month <- match(tolower(D$Month), tolower(month.abb))
D$Date <- with(D, as.Date(paste(Year, Month, Day, sep = "/")))

p2 <- ggplot(D, aes(x = Date, y = WLMargin, fill = WLsign)) + 
  geom_bar(stat = "identity", position = position_dodge(width=0.8)) + 
  guides(fill=FALSE) +
  scale_fill_manual(values= c("Win" = "green3", "Loss" = "red")) +
  scale_x_date(date_breaks = "1 month", date_minor_breaks = "1 week", date_labels = "%B") +
  ggtitle("Rockies 2007 Win/Loss Margin") + xlab("Game Date") + ylab("Game Margin (runs)")

p1
p2
```

\newpage


## [National League Standings](http://www.baseball-reference.com/leagues/NL/2017-standings.shtml#expanded_standings_W::none)


```{r NLStandings2, results='asis'}
theurl <- getURL("http://www.baseball-reference.com/leagues/NL/2017-standings.shtml#expanded_standings_W::none")
tables <- readHTMLTable(theurl)
tables <- list.clean(tables, fun = is.null, recursive = FALSE)
n.rows <- unlist(lapply(tables, function(t) dim(t)[1]))
knitr::kable(tables$standings_E, caption = "NL East Standings")
knitr::kable(tables$standings_C, caption = "NL Central Standings")
knitr::kable(tables$standings_W, caption = "NL West Standings")
```

\newpage

## [American League Standings](http://www.baseball-reference.com/leagues/AL/2017-standings.shtml#expanded_standings_W::none)

```{r ALStandings, results = 'asis'}

ALurl <- getURL("http://www.baseball-reference.com/leagues/AL/2017-standings.shtml#expanded_standings_W::none")
ALStandings <- readHTMLTable(ALurl)
ALStandings <- list.clean(ALStandings, fun = is.null, recursive = FALSE)
n.rows <- unlist(lapply(ALStandings, function(t) dim(t)[1]))
knitr::kable(ALStandings$standings_E, caption = "AL East Standings")
knitr::kable(ALStandings$standings_C, caption = "AL Central Standings")
knitr::kable(ALStandings$standings_W, caption = "AL West Standings")
```

\newpage

## Rockies Game-by-Game Schedule/Results

```{r GBGResults, results = 'asis'}
GBG17 <- getRockiesGBG(2017) 
GBG17 <- filter(GBG17, Win != " ")
knitr::kable(GBG17)
```


The Rockies current record is `r Current$Wins` Wins and `r Current$Losses` Losses.  So far, the Rockies have scored `r TotalR` runs and have had `r TotalRA` runs scored against them.

\newpage

## Pythagorean Win-Loss Theorem
$$ predicted W\% = \frac{R^k}{R^k+RA^k}   $$
```{r PredWin, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
# Build Table of Pythagorean Win Predictions for 2017
PredictedWins <- tibble(
  `Wins (k=1.81)` = round(TotalR^1.81/(TotalR^1.81+TotalRA^1.81)*162),
  `Wins (k=1.83)` = round(TotalR^1.83/(TotalR^1.83+TotalRA^1.83)*162),
  `Wins (k=2.00)` = round(TotalR^2.00/(TotalR^2.00+TotalRA^2.00)*162))
```

Using the commonly used values of k, the Rockies predicted wins for the 2017 are shown in the table below.  Remember this statistic will vary widely over the course of the season.

```{r PredWins, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
knitr::kable(PredictedWins, caption = "Predicted Wins for Entire 2017 Season")
```

\newpage

## Batting Statistics (non-pitchers)


```{r, echo=FALSE, message=FALSE, warning=FALSE, results= 'asis'}

burl <- 
  getURL("http://www.baseball-reference.com/teams/COL/2017.shtml#team_batting::none")

  TeamStats <- readHTMLTable(burl)
  TeamStats <- list.clean(TeamStats, fun = is.null, recursive = FALSE)
  TeamBatting <- as_tibble(TeamStats$team_batting) %>%
       separate(Name, into = c("First", "Name"), sep =" ")
TEAMB <- TeamBatting %>% 
  select(c(1,2,4,5,6,8,9,10,11,12,13, 14, 15, 16, 17)) %>%   
  filter(Rk != "Rk" & Pos != "P")
knitr::kable(TEAMB, caption = "Rockies Batting Statistics (1 of 2).")

TEAMB <- TeamBatting %>% 
  select(c(1,2,4,5,18,19,20,21,22,23:29)) %>%   
  filter(Rk != "Rk" & Pos != "P")
knitr::kable(TEAMB, caption = "Rockies Batting Statistics (2 of 2).")
```

* \* - bats left-handed, # - bats both, else - bats right, ? - unknown; OPS_lg for OPS+ does not include pitchers.

\newpage

## Pitching Statistics

```{r, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}

PitchUrl <- 
  getURL("http://www.baseball-reference.com/teams/COL/2017.shtml#team_pitching::none")

  PitchStats <- readHTMLTable(PitchUrl)
  PitchStats <- list.clean(PitchStats, fun = is.null, recursive = FALSE)
  TeamPitching <- as_tibble(TeamStats$team_pitching) %>%
       separate(Name, into = c("First", "Name"), sep =" ")

  TEAMP <- TeamPitching %>%   
  filter(Rk != "Rk") %>%
  select(c(1,2, 4, 5:18))
knitr::kable(TEAMP, caption = "Rockies pitching statistics (1 of 2).")

TEAMP <- TeamPitching %>%
  filter(Rk != "Rk")  %>%
  select(c(1,2, 4, 19:30))
knitr::kable(TEAMP, caption = "Rockies pitching statistics (2 of 2).")

```

  \* - throws left-handed

\newpage

# National League Team Standard Batting

```{r}
NLTeamBatUrl <- 
  getURL("http://www.baseball-reference.com/leagues/NL/2017.shtml#teams_standard_batting::3")

C.Classes <- c("character", "integer", rep("double",2), rep("integer",14), 
               rep("double",3), rep("integer",8))

BatStats <- readHTMLTable(NLTeamBatUrl,stringsAsFactors = FALSE, colClasses = C.Classes)
BatStats <- list.clean(BatStats, fun = is.null, recursive = FALSE)
NLBatStats <- as_tibble(BatStats$teams_standard_batting, as.factor = FALSE)
  
TEAMB <- NLBatStats %>% arrange(desc(NLBatStats$'R/G')) %>%  select(c(1:4, 5:17))
knitr::kable(TEAMB, caption = "NL Team Batting statistics (1 of 2).")

TEAMB <- NLBatStats %>% arrange(desc(NLBatStats$'R/G')) %>%  select(c(1:4, 18:29))
knitr::kable(TEAMB, caption = "NL Team Batting statistics (2 of 2).")


```



\newpage

# Current Injuries

```{r, echo=FALSE, message=FALSE, warning=FALSE, results= 'asis'}
inj_url <- "http://www.baseball-reference.com/teams/COL/2017.shtml#injuries::none"


## Temporary Code to Display Injury Report until I figure out how to use the URL provided
## Baseball-Reference.com (above).
  Injuries <- read_excel("./data/Rockies_Injuries.xlsx")
  
  Injuries <- select(Injuries,c(1,3,4,5)) 
  Injuries <-  rename(Injuries, Updated = Last.Updated, 
                      Type = Injury.Type, Details = Injury.Details)
 
#knitr::kable(Injuries, caption = "Rockies Current Injuries",
#      col.names = c("Name", "Updated", "Type", "Details"))
print.xtable(xtable(Injuries, align = "l|l|l|l|p{4in}",caption = "Current Injuries"),
             comment = FALSE)
```


\newpage

# Topics for Future Articles

Here are a few suggestions, but I would prefer to hear from you, dear reader, on what interests you.

* Player Value - I am personally just getting familiar with this concept.  Work In Progress (WIP)
* What is the OPS+ statistic and how is it calculated.
* Survey MLB ticket prices.
* A suggestion from a work colleague that we investigate what budding talent we have in the Rockies farm system.  I will look into this and see what I can find.

Let me know what you would like to see in future articles.  Send me email at jdreed@q.com.

Yours truly,

  Jim Reed

\newpage

# Appendix


## Glossary

### Batting Statistics

| Statistic Abbreviation| Definition                          |
|-----------------------|--------------------------------------|
|*G*| number of games (participated)|
|*PA*| plate appearances |
|*AB*| at bats|
|*R*|  runs scored by player or team|
|*RA*| runs allowed |
|*H*|  hits|
|*2B*| doubles|
|*3B*| triples|
|*HR*| home runs|
|*RBI*| runs batted in|
|*BA*| batting average|
|*OBP*| on-base percentage|
|*SLG*| slugging percentage|
|*OPS*| on-base percentage plus slugging percentage|
|*OPS+*| This statistic normalizes a player's OPS.  It adjusts for small variables that might affect OPS scores (e.g., park effects). |

\newpage

### Pitching Statistics

| Pitching Statistic    | Definition                          |
|-----------------------|--------------------------------------|
|*Rk*|  Rank This is a count of the rows from top to bottom.  It is recalculated following the sorting of a column. |
|*Pos*|  Position |
|*Name*|  Player Name |
|*Age*|  Player’s age at midnight of June 30th of that year |
|*W*|  Wins |
|*L*|  Losses |
|*W-L%*|  Win-Loss Percentage W / (W + L) For players, leaders need one decision for every ten team games.  For managers, minimum to qualify for leading is 320 games. |
|*ERA*|  9 * ER / IP  |
|*G*|  Games Played or Pitched |
|*GS*|  Games Started |
|*GF*|  Games Finished |
|*CG*|  Complete Game |
|*SHO*|  Shutouts No runs allowed and a complete game. |
|*SV*|  Saves |
|*IP*|  Innings Pitched |
|*H*|  Hits/Hits Allowed |
|*R*|  Runs Scored/Allowed |
|*ER*|  Earned Runs Allowed |
|*HR*|  Home Runs Hit/Allowed |
|*BB*|  Bases on Balls/Walks |
|*IBB*|  Intentional Bases on Balls First tracked in 1955. |
|*SO*|  Strikeouts |
|*HBP*|  Times Hit by a Pitch. |
|*BK*|  Balks |
|*WP*|  Wild Pitches |
|*BF*|  Batters Faced 
|*ERA+*|  ERA+ 100*[lgERA/ERA] Adjusted to the player’s ballpark(s). |
|*FIP*|  Fielding Independent Pitching |
|*WHIP*|  (BB + H)/IP  For recent years, leaders need 1 IP per team game played |
|*H9*|  9 x H / IP For recent years, leaders need 1 IP per team game played |
|*HR9*|  9 x HR / IP For recent years, leaders need 1 IP per team game played |
|*BB9*|  9 x BB / IP For recent years, leaders need 1 IP per team game played |
|*SO9*|  9 x SO / IP For recent years, leaders need 1 IP per team game played |
|*SO/W*|  SO/W or SO/BB For recent years, pitching leaders need 1 IP per team game played. |

\newpage

### Fielding Statistics

| Fielding Statistic    | Definition                          |
|-----------------------|--------------------------------------|
|*Name*| Player Name Bold can mean player is active for this team or player has appeared in MLB * means LHP or LHB, \\# means switch hitter, + can mean HOFer. |
|*Age*| Player’s age at midnight of June 30th of that year |
|*G*| Games Played or Pitched |
|*GS*| -- Games Started |
|*CG*| -- Complete Game |
|*Inn*| -- Innings Played in Field |
|*Ch*| -- Defensive Chances Putouts + Assists + Errors |
|*PO*| -- Putouts |
|*A*| -- Assists  |
|*E*| -- Errors Committed |
|*DP*| -- Double Plays Turned |
|*Fld%*| -- Fielding Percentage (Putouts + Assists) / (Putouts + Assists + Errors) 
|*Rtot*| -- Total Zone Total Fielding Runs Above Avg The number of runs above or below average the player was worth based on the number of plays made. This number combines the Rtz, Rdp,Rof, Rcatch numbers into a total defensive contribution.  See the glossary section for a more complete explanation.  Provided by BaseballProjection.com |
|*Rtot/yr*| -- Total Zone Total Fielding Runs Above Avg per 1,200 Inn  The number of runs above or below average the fielder was worth per 1,200 Innings (approx 135 games). This number combines the Rtz, Rdp, Rof, Rcatch numbers into a total defensive contribution.  See the glossary section for a more complete explanation.  Provided by BaseballProjection.com |
|*Rdrs*| -- BIS Defensive Runs Saved Above Avg  The number of runs above or below average the player was worth based on the number of plays made.  This number combines the Rpm, Rbdp, Rbof, Rbcatch numbers into a total defensive contribution.  Provided by Baseball Info Solutions |
|*Rdrs/yr*| -- BIS Defensive Runs Saved Above Avg per 1,200 Inn The number of runs above or below average the fielder was worth per 1,200 Innings (approx 135 games).  This number combines the Rpm, Rbdp, Rbof, Rbcatch numbers into a total defensive contribution. For pitchers, this is set to 200 Innings.  Provided by Baseball Info Solutions |
|*RF/9*| -- Range Factor per 9 Inn 9 * (Putouts + Assists) / Innings Played |
|*RF/G*| -- Range Factor per Game (Putouts + Assists) / Games Played  |
|*PB*| -- Passed Balls |
|*WP*| -- Wild Pitches |
|*SB*| -- Stolen Bases |
|*CS*| -- Caught Stealing |
|*CS%*| -- Caught Stealing Percentage CS / (SB + CS) |
|*lgCS%*| -- League Caught Stealing Percentage League Expected CS / Players SB + Players CS |
|*PO*| -- Pickoffs Runner picked off a base. May include cases they were safe on an error. Also includes Pickoff Caught Stealing plays.|
|*Pos*| Summary -- Positions Played  The positions either followed by the games played at that position or in order of games or innings played.  For a single season, * indicates they played at least 2/3rds of the team games there Positions after / indicate less than ten games played at those positions.  For career, a + sign means more than 300 games at that position and a - sign means less than 30 games. |



Run date time: `r Sys.time()`